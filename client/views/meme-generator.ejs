<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <meta name="description" content="<%= description %>">
    <meta name="keywords" content="$AQUA, AI meme generator, Leonardo AI, crypto memes, SUI network, cryptocurrency memes, meme creator, viral memes, blockchain memes, community memes, social media sharing, meme templates">
    <meta name="author" content="$AQUA Team">
    <link rel="canonical" href="<%= canonicalUrl %>">
    <link rel="icon" type="image/png" href="/aquacat.png">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="<%= title %>">
    <meta property="og:description" content="<%= description %>">
    <meta property="og:image" content="<%= ogImage %>">
    <meta property="og:url" content="<%= canonicalUrl %>">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="$AQUA">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= title %>">
    <meta name="twitter:description" content="<%= description %>">
    <meta name="twitter:image" content="<%= ogImage %>">
    <meta name="twitter:site" content="@AQUA_on_SUI">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/main.css?v=2.0">
    <link rel="stylesheet" href="/css/meme-generator.css?v=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="/" class="nav-logo">$AQUA</a>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/meme-generator" class="active">Meme Generator</a></li>
                    <li><a href="/gallery">Gallery</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="meme-generator-container">
        <div class="container">
            <div class="generator-hero scroll-animate">
                <h1>ðŸŽ¨ $AQUA Meme Generator</h1>
                <p>Create viral memes with AI generation, professional editing tools, and instant sharing!</p>
            </div>

            <div class="generator-steps">
                <!-- Step 1: Choose Your Starting Point -->
                <div class="step-container active scroll-animate" id="step1">
                    <div class="step-header" onclick="toggleStep('step1')">
                        <div class="step-title">
                            <span class="step-number">1</span>
                            <h3>Choose Your Starting Point</h3>
                        </div>
                        <i class="fas fa-chevron-up step-toggle"></i>
                    </div>
                    <div class="step-content">
                        <div class="primary-choice">
                            <div class="choice-card" id="aiChoice">
                                <div class="choice-icon">
                                    <i class="fas fa-magic"></i>
                                </div>
                                <h4>AI Generated Image</h4>
                                <p>Create unique $AQUA themed images with AI assistance</p>
                            </div>
                            <div class="choice-card" id="uploadChoice">
                                <div class="choice-icon">
                                    <i class="fas fa-upload"></i>
                                </div>
                                <h4>Upload Your Own</h4>
                                <p>Upload your own image to create a meme</p>
                            </div>
                        </div>

                        <!-- AI Generation Form -->
                        <div class="ai-form" id="aiForm">
                            <div class="model-selection">
                                <label class="form-label">Choose AI Style:</label>
                                <div class="model-grid" id="modelGrid">
                                    <!-- Models will be loaded here -->
                                </div>
                            </div>
                            <label class="form-label">Describe your $AQUA meme image:</label>
                            <textarea class="prompt-input" id="aiPrompt" placeholder="Example: A wet cat sitting in the rain with a sad expression, holding a SUI blockchain logo, digital art style, meme format"></textarea>
                            <button class="btn-small btn-full" id="generateBtn">
                                <i class="fas fa-magic"></i> Generate with AI
                            </button>
                            <div id="generationStatus" style="display: none; text-align: center; margin-top: 15px;">
                                <i class="fas fa-spinner fa-spin"></i> Generating your image...
                            </div>
                        </div>

                        <!-- Upload Zone -->
                        <div class="upload-zone" id="uploadZone">
                            <div class="upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <p>Drop an image here or click to upload</p>
                            <small>Supports JPG, PNG, GIF (max 10MB)</small>
                            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>

                <!-- Step 2: Your Images -->
                <div class="step-container scroll-animate" id="step2">
                    <div class="step-header" onclick="toggleStep('step2')">
                        <div class="step-title" style="display: flex; align-items: center; width: 100%;">
                            <span class="step-number">2</span>
                            <h3><i class="fas fa-images"></i> Your Images</h3>
                            <div class="storage-info" style="margin-left: auto; font-size: 0.8rem; color: #888;">
                                <span id="storageUsage">Storage: 0 KB</span>
                                <button class="btn-small btn-secondary-small" id="clearStorageBtn" style="margin-left: 10px; padding: 4px 8px; font-size: 0.7rem;">
                                    <i class="fas fa-trash"></i> Clear All
                                </button>
                            </div>
                        </div>
                        <i class="fas fa-chevron-up step-toggle"></i>
                    </div>
                    <div class="step-content">
                        <p>Choose from your uploaded or generated images:</p>
                        <div class="recent-grid" id="userImagesGrid">
                            <div class="empty-gallery">
                                <i class="fas fa-images" style="font-size: 3rem; color: rgba(77, 162, 255, 0.3);"></i>
                                <p style="color: rgba(255,255,255,0.6); margin-top: 10px;">No images yet. Upload or generate some images first!</p>
                            </div>
                        </div>
                        <div class="step-navigation" style="margin-top: 20px; text-align: center;">
                            <button class="btn-small btn-secondary-small" onclick="memeGenerator.expandStep('step1')">
                                <i class="fas fa-arrow-left"></i> Back to Upload/Generate
                            </button>
                            <button class="btn-small" id="proceedToEdit" onclick="memeGenerator.proceedToEdit()" disabled>
                                <i class="fas fa-edit"></i> Edit Selected
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Edit Your Meme -->
                <div class="step-container scroll-animate" id="step3">
                    <div class="step-header" onclick="toggleStep('step3')">
                        <div class="step-title">
                            <span class="step-number">3</span>
                            <h3>Edit Your Meme</h3>
                        </div>
                        <i class="fas fa-chevron-up step-toggle"></i>
                    </div>
                    <div class="step-content">
                        <div class="editing-layout">
                            <!-- Editing Sidebar (Left Side) -->
                            <div class="editing-sidebar">
                                <!-- Add Elements -->
                                <div class="control-group">
                                    <h4><i class="fas fa-plus"></i> Add Elements</h4>
                                    <div class="tool-buttons">
                                        <button class="tool-btn" id="addTextBtn">
                                            <i class="fas fa-font"></i> Text
                                        </button>
                                        <button class="tool-btn" id="addShapeBtn">
                                            <i class="fas fa-shapes"></i> Shapes
                                        </button>
                                    </div>
                                    
                                    <!-- Shape Selection -->
                                    <div class="shape-tools" id="shapeTools" style="display: none;">
                                        <button class="shape-btn" data-shape="rectangle">
                                            <i class="fas fa-square"></i>
                                        </button>
                                        <button class="shape-btn" data-shape="circle">
                                            <i class="fas fa-circle"></i>
                                        </button>
                                        <button class="shape-btn" data-shape="triangle">
                                            <i class="fas fa-play"></i>
                                        </button>
                                        <button class="shape-btn" data-shape="star">
                                            <i class="fas fa-star"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Text Controls -->
                                <div class="control-group">
                                    <h4><i class="fas fa-font"></i> Text Styling</h4>
                                    <div class="form-row">
                                        <div class="form-col">
                                            <label class="form-label">Text Content</label>
                                            <input type="text" id="textInput" class="form-input" placeholder="Enter text...">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-col">
                                            <label class="form-label">Font Family</label>
                                            <select id="fontFamily" class="form-select">
                                                <option value="Impact">Impact</option>
                                                <option value="Arial">Arial</option>
                                                <option value="Fredoka One">Fredoka One</option>
                                                <option value="Poppins">Poppins</option>
                                                <option value="Comic Sans MS">Comic Sans</option>
                                            </select>
                                        </div>
                                        <div class="form-col">
                                            <label class="form-label">Font Size</label>
                                            <input type="range" id="fontSize" class="range-input" min="16" max="120" value="40">
                                            <span id="fontSizeValue">40px</span>
                                        </div>
                                    </div>
                                    <div class="color-picker-group">
                                        <div>
                                            <label class="form-label">Text Color</label>
                                            <input type="color" id="textColor" class="color-input" value="#ffffff">
                                        </div>
                                        <div>
                                            <label class="form-label">Stroke Color</label>
                                            <input type="color" id="strokeColor" class="color-input" value="#000000">
                                        </div>
                                        <div>
                                            <label class="form-label">Stroke Width</label>
                                            <input type="range" id="strokeWidth" class="range-input" min="0" max="10" value="2">
                                            <span id="strokeWidthValue">2px</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Element Properties -->
                                <div class="control-group">
                                    <h4><i class="fas fa-cog"></i> Element Properties</h4>
                                    <div class="range-label">
                                        <span>Opacity</span>
                                        <span id="opacityValue">100%</span>
                                    </div>
                                    <input type="range" id="opacity" class="range-input" min="0" max="100" value="100">
                                    
                                    <div class="form-row" style="margin-top: 15px;">
                                        <div class="form-col">
                                            <label class="form-label">Fill Color</label>
                                            <input type="color" id="fillColor" class="color-input" value="#4DA2FF">
                                        </div>
                                        <div class="form-col">
                                            <label class="form-label">Border Color</label>
                                            <input type="color" id="borderColor" class="color-input" value="#ffffff">
                                        </div>
                                    </div>
                                    <div class="range-label">
                                        <span>Border Width</span>
                                        <span id="borderWidthValue">0px</span>
                                    </div>
                                    <input type="range" id="borderWidth" class="range-input" min="0" max="20" value="0">
                                </div>

                                <!-- Layer Management -->
                                <div class="control-group">
                                    <h4><i class="fas fa-layer-group"></i> Layers</h4>
                                    <div class="tool-buttons">
                                        <button class="tool-btn" id="bringForwardBtn">
                                            <i class="fas fa-level-up-alt"></i> Forward
                                        </button>
                                        <button class="tool-btn" id="sendBackwardBtn">
                                            <i class="fas fa-level-down-alt"></i> Backward
                                        </button>
                                    </div>
                                    <div class="form-row">
                                        <button class="btn-small btn-secondary-small" id="copyBtn" style="flex: 1;" disabled title="Copy selected element (Ctrl+C)">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                        <button class="btn-small btn-secondary-small" id="pasteBtn" style="flex: 1;" disabled title="Paste element (Ctrl+V)">
                                            <i class="fas fa-paste"></i> Paste
                                        </button>
                                    </div>
                                    <button class="btn-small btn-secondary-small btn-full" id="deleteBtn" title="Delete selected element (Delete key)">
                                        <i class="fas fa-trash"></i> Delete Selected
                                    </button>
                                </div>

                                <!-- Actions -->
                                <div class="control-group">
                                    <h4><i class="fas fa-share"></i> Save & Share</h4>
                                    <button class="btn-small btn-full" id="saveBtn">
                                        <i class="fas fa-save"></i> Save Meme to Gallery
                                    </button>
                                    <button class="btn-small btn-full btn-share" id="shareToSocialBtn">
                                        <i class="fas fa-share-alt"></i> Share to Social
                                    </button>
                                    <button class="btn-small btn-full btn-secondary-small" id="directShareBtn" style="margin-top: 10px;">
                                        <i class="fas fa-share"></i> Quick Share (No Save)
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Canvas Section (Right Side) -->
                            <div class="canvas-section">
                                <div class="canvas-toolbar">
                                    <button class="btn-small btn-secondary-small" id="undoBtn">
                                        <i class="fas fa-undo"></i> Undo
                                    </button>
                                    <button class="btn-small btn-secondary-small" id="redoBtn">
                                        <i class="fas fa-redo"></i> Redo
                                    </button>
                                    <button class="btn-small btn-secondary-small" id="clearBtn">
                                        <i class="fas fa-trash"></i> Clear
                                    </button>
                                    <button class="btn-small" id="exportBtn">
                                        <i class="fas fa-download"></i> Export
                                    </button>
                                </div>
                                <div class="canvas-container">
                                    <canvas id="memeCanvas" width="600" height="600"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Social Sharing Modal -->
    <div class="modal-overlay" id="shareModal">
        <div class="modal-content">
            <button class="modal-close" data-action="close-modal">&times;</button>
            <div class="modal-header">
                <h2><i class="fas fa-share-alt"></i> Share Your Meme</h2>
            </div>
            
            <div class="share-preview">
                <img id="sharePreviewImage" src="" alt="Meme preview">
                <h4 style="color: var(--text-light); margin: 10px 0;">Add a message (optional):</h4>
                <textarea class="share-message" id="shareMessage" placeholder="Check out this awesome meme I made! ðŸ”¥ #AQUA #MemeGenerator"></textarea>
            </div>
            
            <div class="social-platforms">
                <a href="#" class="social-platform universal" data-platform="universal" style="background: linear-gradient(45deg, #4CAF50, #45a049);">
                    <i class="fas fa-share"></i> Share
                </a>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="social-links">
                <a href="https://x.com/AQUA_on_SUI" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://t.me/AQUA_CAT_ON_SUI" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
                <a href="https://dexscreener.com/" target="_blank" aria-label="Dexscreener"><i class="fas fa-chart-line"></i></a>
                <a href="https://www.reddit.com/r/AQUA_on_SUI/" target="_blank" aria-label="Reddit"><i class="fab fa-reddit"></i></a>
            </div>
            <p class="disclaimer">
                <strong>Disclaimer:</strong> $AQUA is a meme coin with no intrinsic value or expectation of financial return. It is for entertainment purposes only. Always do your own research.
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/script.js?v=2.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="/js/meme-generator.js?v=1.0"></script>
</body>
</html> 